# ?? Інтерактивна таблиця порівняння результатів

## ? Нові можливості

### 1. **Автоматична таблиця порівняння**
Всі результати тестів автоматично зберігаються та відображаються в таблиці:

| Метод | Записів | Час (мс) | Час (сек) | Швидкість (рек/с) | Прискорення | Дата/Час | Дії |
|-------|---------|----------|-----------|-------------------|-------------|----------|-----|
| Sequential | 10,000 | 1,250 | 1.25 | 8,000 | 1.0x | 02.12.2024 22:30 | ??? |
| Parallel | 10,000 | 850 | 0.85 | 11,765 | **1.47x** | 02.12.2024 22:31 | ??? |
| Parallel.ForEach | 10,000 | 720 | 0.72 | 13,889 | **1.74x** | 02.12.2024 22:32 | ??? |
| TPL | 10,000 | 650 | 0.65 | 15,385 | **1.92x** | 02.12.2024 22:33 | ??? |
| PLINQ | 10,000 | 580 | 0.58 | 17,241 | **2.16x** | 02.12.2024 22:34 | ??? |

---

### 2. **Колонки таблиці**

#### **Метод**
- Назва технології з кольоровим badge
- `Sequential` (синій), `Parallel` (зелений), `TPL` (info), `PLINQ` (жовтий)

#### **Записів**
- Кількість оброблених записів
- Форматування з роздільниками (10,000)

#### **Час (мс)**
- Час виконання в мілісекундах
- Виділено жирним

#### **Час (сек)**
- Той самий час у секундах
- Для зручності читання

#### **Швидкість (рек/с)**
- Кількість записів за секунду
- Формула: `записів / (час_мс / 1000)`

#### **Прискорення**
- Порівняння з послідовним методом
- Формула: `час_sequential / час_поточний`
- Виділено зеленим жирним
- Приклад: `1.47x`, `2.16x`

#### **Дата/Час**
- Коли було запущено тест
- Український формат

#### **Дії**
- Кнопка видалення результату ???

---

### 3. **Функції управління**

#### ??? **Очистити результати**
```javascript
clearResults()
```
- Видаляє ВСІ збережені результати
- З підтвердженням

#### ?? **Експортувати CSV**
```javascript
exportResults()
```
- Завантажує всі результати у CSV файл
- Назва: `performance_results_2024-12-02.csv`
- Можна відкрити в Excel

**Формат CSV:**
```csv
Метод,Записів,Час (мс),Час (сек),Швидкість (рек/с),Дата/Час
"Послідовний (Sequential)",10000,1250,1.25,8000,"02.12.2024, 22:30:15"
"PLINQ (Parallel LINQ)",10000,580,0.58,17241,"02.12.2024, 22:34:20"
```

#### ?? **Порівняти методи**
```javascript
showComparison()
```
- Відображає графік порівняння
- Використовує Chart.js
- Стовпчикова діаграма
- Кольорове кодування

---

### 4. **Графік порівняння (Chart.js)**

#### Що показує:
- **Вісь X**: Назви методів
- **Вісь Y**: Час виконання (мс)
- **Підказки**: Кількість записів + швидкість

#### Приклад:
```
???????????????????????????????????
? Порівняння часу виконання       ?
???????????????????????????????????
? 1500? ?                         ?
? 1250? ?                         ?
? 1000? ?  ?                      ?
?  750? ?  ?  ?                   ?
?  500? ?  ?  ?  ?  ?             ?
?  250? ?  ?  ?  ?  ?             ?
?    0??????????????????????????  ?
?      Seq Par PF TPL PLINQ       ?
???????????????????????????????????
```

Менше стовпчик = краще!

---

### 5. **Автоматичне збереження**

Кожен тест автоматично:
1. ? Зберігає результат у `localStorage`
2. ? Додає до таблиці
3. ? Показує сповіщення
4. ? Обчислює прискорення

**Приклад сповіщення:**
```
? Результат додано до таблиці порівняння!

Метод: PLINQ (Parallel LINQ)
Час: 580 мс (0.58 сек)
Записів: 10,000
Прискорення: 2.16x
```

---

### 6. **Приклад використання**

#### Крок 1: Запустити послідовний тест
```
Записів: 10000
[Послідовний запит (велика вибірка)] ? Натиснути
```

**Результат:**
- Час: 1,250 мс
- Автоматично додано до таблиці

#### Крок 2: Запустити PLINQ
```
Записів: 10000
[PLINQ] ? Натиснути
```

**Результат:**
- Час: 580 мс
- Прискорення: **2.16x** ?
- Автоматично додано до таблиці

#### Крок 3: Переглянути таблицю
Повернутися на головну сторінку ? таблиця оновлена!

#### Крок 4: Порівняти графічно
```
[Порівняти методи] ? Натиснути
```

**Результат:**
- Відображається графік
- Видно, що PLINQ найшвидший

#### Крок 5: Експортувати
```
[Експортувати CSV] ? Натиснути
```

**Результат:**
- Файл `performance_results_2024-12-02.csv` завантажено
- Можна вставити в звіт

---

### 7. **Технічні деталі**

#### Збереження даних
```javascript
// Структура
{
    method: "PLINQ (Parallel LINQ)",
    recordCount: 10000,
    elapsedMs: 580,
    elapsedSeconds: 0.58,
    timestamp: "2024-12-02T22:34:20.123Z"
}

// Місце збереження
localStorage.getItem('testResults')

// Ліміт
50 останніх результатів
```

#### Обчислення прискорення
```javascript
// Знайти базовий (послідовний) результат
const baseline = testResults.find(r => 
    r.method.includes('Послідовний')
);

// Обчислити
const speedup = baseline.elapsedMs / current.elapsedMs;
// Приклад: 1250 / 580 = 2.16x
```

#### Експорт CSV
```javascript
// Формат
const csv = 'Метод,Записів,Час (мс),...\n';
testResults.forEach(r => {
    csv += `"${r.method}",${r.recordCount},...\n`;
});

// Створення файлу
const blob = new Blob([csv], { type: 'text/csv' });
const link = document.createElement('a');
link.href = URL.createObjectURL(blob);
link.download = 'performance_results_' + date + '.csv';
link.click();
```

---

### 8. **Кольорове кодування**

| Метод | Колір Badge | Колір на графіку |
|-------|-------------|------------------|
| Sequential | ?? Синій | Блакитний |
| Parallel | ?? Зелений | Зелений |
| Parallel.ForEach | ?? Зелений | Жовтий |
| TPL | ?? Info | Фіолетовий |
| PLINQ | ?? Жовтий | Помаранчевий |

---

### 9. **Інтеграція з Chart.js**

```html
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
```

**Переваги:**
- ? Інтерактивний графік
- ? Підказки при наведенні
- ? Адаптивний дизайн
- ? Анімація

**Типи графіків:**
- Стовпчиковий (`bar`) - обрано
- Лінійний (`line`)
- Кругова діаграма (`pie`)

---

### 10. **Приклад таблиці порівняння**

#### Невелика вибірка (20 записів):

| Метод | Записів | Час (мс) | Прискорення |
|-------|---------|----------|-------------|
| Sequential | 20 | 15 | 1.0x |
| Parallel | 20 | 18 | 0.83x ? |

**Висновок:** На невеликій вибірці паралелізм повільніший (overhead)

#### Велика вибірка (10,000 записів):

| Метод | Записів | Час (мс) | Прискорення |
|-------|---------|----------|-------------|
| Sequential | 10,000 | 1,250 | 1.0x |
| Parallel | 10,000 | 850 | 1.47x ? |
| Parallel.ForEach | 10,000 | 720 | 1.74x ? |
| TPL | 10,000 | 650 | 1.92x ? |
| PLINQ | 10,000 | 580 | **2.16x** ? |

**Висновок:** PLINQ найшвидший, прискорення **2.16x**!

---

### 11. **Можливості для звіту викладачу**

#### Скріншоти:
1. ? Таблиця з результатами
2. ? Графік порівняння
3. ? Експортований CSV

#### Текст звіту:
```
Було проведено тестування 5 методів обробки даних:

1. Sequential - базовий метод (1,250 мс)
2. Parallel - паралельні запити (850 мс, +47%)
3. Parallel.ForEach - проста паралелізація (720 мс, +74%)
4. TPL - розбиття на Tasks (650 мс, +92%)
5. PLINQ - автоматичний LINQ (580 мс, +116%)

PLINQ показав найкраще прискорення в 2.16 разів!
```

#### CSV для Excel:
- Експортувати результати
- Вставити в Excel
- Створити власні графіки

---

### 12. **Переваги нової системи**

? **Автоматизація**
- Результати збираються автоматично
- Не потрібно вручну записувати

? **Візуалізація**
- Таблиця для точних цифр
- Графік для наочності

? **Експорт**
- CSV для Excel/Google Sheets
- Легко додати до звіту

? **Порівняння**
- Автоматичне обчислення прискорення
- Кольорове кодування

? **Зручність**
- LocalStorage (не втрачаються при перезавантаженні)
- Видалення окремих результатів
- Очищення всіх результатів

---

## ?? Підсумок

**До:**
- Результати треба записувати вручну
- Важко порівняти

**Після:**
- ? Автоматична таблиця
- ? Графік порівняння
- ? Експорт у CSV
- ? Обчислення прискорення
- ? Зберігання 50 результатів

**Готово для звіту викладачу!** ???

---

## ?? Як зробити скріншот

1. Запустити всі 5 тестів
2. Натиснути "Порівняти методи"
3. Зробити скріншот:
   - Таблиця порівняння
   - Графік Chart.js
4. Додати до звіту

**Ідеально для презентації результатів!** ??
